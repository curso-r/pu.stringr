---
title: "stringr: Avançado"
author: "Julio Trecenti, Daniel Falbel"
date: "December 31, 2016"
output: html_document
---


- `str_detect()` retorna `TRUE` se a regex é compatível com a string e `FALSE` caso contrário

- `str_lengh()` retorna o comprimento de uma string.

```{r}
str_length('hye')
```

- `str_trim()` retira espaços e quebras de linha/tabs no início ou final de string.

```{r}
string <- '\nessa      string é muito suja       \n'
str_trim(string)
```

- `str_replace()` e `str_replace_all()` substituem um padrão (ou todos) encontrado para um outro padrão

```{r}
string <- 'heyyy ui yy'
str_replace(string, 'y', 'x')
str_replace(string, 'y+', 'x')
str_replace_all(string, 'y', 'x')
str_replace_all('string     com    muitos espaços', ' +', ' ') # tirar espaços extras
```

- `str_match()` e `str_match_all()` extrai pedaços da string identificados pela regex. Caso queira extrair somente a parte identificada, use parênteses.

```{r}
frases <- c('a roupa do rei', 'de roma', 'o rato roeu')
str_match(frases, 'roe')
str_match_all(frases, 'ro')
str_match(frases, 'o (ro)')
```

- `str_split()` separa uma string em várias de acordo com um separador.

```{r}
string <- 'eu sei, usar virgulas, de forma, perfeita'

str_split(string, ', ')
str_split(string, ', ', simplify = TRUE)
```

- `str_split_fixed()` faz o mesmo que `str_split()`, mas separa apenas `n` vezes

```{r}
str_split_fixed(string, ', ', 3)
str_split_fixed(string, ', ', 4) # igual a str_split(string, simplify = TRUE)
```

- `str_sub()` extrai uma parte da string de acordo com os índices.

```{r}
string <- 'quero pegar só uma parte disso'
str_sub(string, 13, 14)
str_sub(string, -5, -1) # usar números negativos para voltar do final da string

indices <- str_locate(string, 'parte')
indices
str_sub(string, indices) # pode ser útil usar com str_locate.
```

- `str_subset()` retorna somente as strings compatíveis com a regex.

```{r}
frases <- c('a roupa do rei', 'de roma', 'o rato roeu')
str_subset(frases, 'd[eo]')
```

